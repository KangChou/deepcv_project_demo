(function(e){function t(t){for(var r,u,s=t[0],a=t[1],i=t[2],O=0,p=[];O<s.length;O++)u=s[O],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&p.push(o[u][0]),o[u]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,s=1;s<n.length;s++){var a=n[s];0!==o[a]&&(r=!1)}r&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},o={options:0},c=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=a;c.push([2,"chunk-vendors","chunk-common"]),n()})({"0e4d":function(e,t,n){"use strict";n("5498")},2:function(e,t,n){e.exports=n("c682")},5498:function(e,t,n){},c682:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o={class:"optionsWrapper"},c={class:"optionsSubTitle"},u={key:0,class:"optionsResult"};function s(e,t,n,s,a,i){return Object(r["x"])(),Object(r["g"])("div",o,[Object(r["j"])("img",{src:e.vpnuLogo,class:"optionsLogo"},null,8,["src"]),Object(r["j"])("p",{class:"optionsTitle",innerHTML:e.$t("OPTIONS.TITLE").replaceAll("%mailto%","support@keepsolid.com")},null,8,["innerHTML"]),Object(r["j"])("form",{onSubmit:t[2]||(t[2]=Object(r["Q"])((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.submitForm&&e.submitForm.apply(e,t)}),["prevent"])),class:"optionsForm flex direction-column"},[Object(r["j"])("p",c,Object(r["I"])(e.$t("OPTIONS.CONFIGURATIONS")),1),Object(r["P"])(Object(r["j"])("textarea",{class:"textarea",placeholder:e.$t("OPTIONS.TOKEN-PLACEHOLDER"),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.inputValue=t})},null,8,["placeholder"]),[[r["L"],e.inputValue]]),Object(r["j"])("button",{disabled:e.loaded,class:"optionsButton"},Object(r["I"])(e.$t(e.loaded?"OPTIONS.PROCESSING":"ERROR.OK")),9,["disabled"]),e.result?(Object(r["x"])(),Object(r["g"])("p",u,Object(r["I"])(e.$t("OPTIONS.RESULT"))+" "+Object(r["I"])(e.result),1)):Object(r["h"])("",!0)],32)])}var a=n("9ab4"),i=n("526e"),l=n("523b"),O=n.n(l),p=n("47e2"),b=n("e234"),d=Object(r["k"])({setup:function(){var e=this,t=Object(r["C"])(""),n=Object(r["C"])(""),o=Object(r["C"])(!1),c=Object(p["b"])().t,u=function(){return Object(a["c"])(e,void 0,void 0,(function(){var e,r,u;return Object(a["d"])(this,(function(s){switch(s.label){case 0:if(o.value)return[2];s.label=1;case 1:return s.trys.push([1,6,7,8]),n.value="",o.value=!0,[4,Object(i["c"])({module:"OptionsPageModule",action:"setExternalToken",payload:t.value})];case 2:return e=s.sent(),e?(n.value=c("OPTIONS.TOKEN-INSTALLED"),[4,Object(b["b"])("access_token")]):(n.value=c("OPTIONS.INVALID-TOKEN"),[2]);case 3:return r=s.sent(),r?[4,Object(i["c"])({module:"MirrorsModule",action:"checkCorrectedCurrentDomain",payload:!0})]:(n.value=c("OPTIONS.SUCCESS"),setTimeout((function(){return window.close()}),2e3),[2]);case 4:return s.sent(),n.value=c("OPTIONS.FETCH-DATA"),[4,Object(i["c"])({module:"FillStoreModule",action:"fetchInitialData"})];case 5:return s.sent(),n.value=c("OPTIONS.SUCCESS"),setTimeout((function(){return window.close()}),2e3),[3,8];case 6:return u=s.sent(),n.value=u,console.log(u),[3,8];case 7:return o.value=!1,[7];case 8:return[2]}}))}))};return{submitForm:u,inputValue:t,result:n,vpnuLogo:O.a,loaded:o}}}),f=(n("0e4d"),n("d959")),j=n.n(f);const v=j()(d,[["render",s]]);var m=v,h=n("5699");Object(r["f"])(m).use(h["a"]).mount("#app")},e234:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}));var r=n("9ab4"),o=n("3225"),c=function(e){return Object(r["c"])(void 0,void 0,Promise,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n=(t=Object).values,[4,o["a"].storage.sync.get(e)];case 1:return[2,n.apply(t,[r.sent()])[0]];case 2:return r.sent(),[2,null];case 3:return[2]}}))}))},u=function(e,t){return Object(r["c"])(void 0,void 0,Promise,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,o["a"].storage.sync.set((n={},n[e]=t,n))];case 1:return[2,r.sent()]}}))}))},s=function(e){return Object(r["c"])(void 0,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,o["a"].storage.sync.remove(e)];case 1:return[2,t.sent()]}}))}))},a=["uuid","userSettings","externalToken","apiDomains","emaMirror","isInstalled","encryptToken"],i=function(){return Object(r["c"])(void 0,void 0,Promise,(function(){var e,t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return n=(t=Object).keys,[4,o["a"].storage.sync.get()];case 1:return e=n.apply(t,[r.sent()]).filter((function(e){return!a.includes(e)})),[4,Promise.all(e.map(s))];case 2:return r.sent(),[2,!0]}}))}))}}});